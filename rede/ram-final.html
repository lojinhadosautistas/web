<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sistema REDE | RAM — Aumento de peso</title>

  <link href="../assets/img/favicon.png" rel="icon">
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="../assets/css/hub.css">

<style>
.kcal-input{ width:80px; }
.total-box{
  font-weight:600;
  font-size:1.1rem;
  text-align:right;
  margin-top:10px;
}

/* ===============================
RAM HEADER CLÍNICO (sticky)
================================ */
.ram-header-clinical{
  position: sticky;
  top: 0;
  z-index: 20;
  background: var(--bg-main,#f4f6f9);
  padding: 10px 24px 14px;
  border-bottom: 1px solid #e2e8f0;
}

.ram-breadcrumb ol{
  list-style:none;
  padding:0;
  margin:0 0 8px;
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  font-size:.8rem;
}

.ram-breadcrumb li{
  display:flex;
  align-items:center;
}

.ram-breadcrumb li:not(:last-child)::after{
  content:"›";
  margin:0 6px;
  color:#94a3b8;
}

.ram-breadcrumb a{
  text-decoration:none;
  color:var(--primary,#2563eb);
  font-weight:500;
}

.ram-breadcrumb [aria-current="page"]{
  color:#0f172a;
  font-weight:600;
}

.ram-progress{ display:flex; gap:10px; }

.ram-step{
  width:28px;
  height:28px;
  border-radius:50%;
  background:#e2e8f0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:.75rem;
  font-weight:600;
  color:#64748b;
  transition:.25s;
}

.ram-step.done{ background:#22c55e; color:white; }
.ram-step.active{ background:#2563eb; color:white; transform:scale(1.08); }

@media(max-width:768px){
  .ram-header-clinical{ padding:8px 16px 12px; }
}
</style>
</head>

<body>

<div id="header-container"></div>
<div id="sidebar-container"></div>
<div id="ram-header"></div>

<main class="main">

<div class="page-title mb-4">
  <h1>RAM — Aumento de peso</h1>
  <p>Monitoramento alimentar e clínico associado ao ganho ponderal</p>
</div>

<div class="row g-4">

<div class="col-lg-12">
<div class="module-card">
<i class="bi bi-file-earmark-medical"></i>
<h3>Contextualização</h3>
<p>
Alerta registrado em 04/11/2024 indicando ganho de peso progressivo associado a irritabilidade, baixa disposição, alterações de sono e possível refluxo.
A análise integra dados dos módulos MAD, MAP e RAI com leitura do agente LUCAS.
</p>
</div>
</div>

<div class="col-lg-3 col-md-6"><div class="module-card"><i class="bi bi-graph-up"></i><h3>Ganho ponderal</h3><p>Evolução progressiva observada.</p></div></div>
<div class="col-lg-3 col-md-6"><div class="module-card"><i class="bi bi-emoji-frown"></i><h3>Comportamento</h3><p>Irritabilidade associada.</p></div></div>
<div class="col-lg-3 col-md-6"><div class="module-card"><i class="bi bi-moon"></i><h3>Sono</h3><p>Qualidade reduzida.</p></div></div>
<div class="col-lg-3 col-md-6"><div class="module-card"><i class="bi bi-heart-pulse"></i><h3>Digestivo</h3><p>Sinais de refluxo leve.</p></div></div>

<div class="col-lg-12">
<div class="module-card">
<i class="bi bi-calculator"></i>
<h3>Dieta atual — calculadora nutricional</h3>

<table class="table">
<thead><tr><th>Refeição</th><th>Alimento</th><th>g</th><th>kcal/100g</th><th>kcal</th></tr></thead>
<tbody id="dietBody">
<tr><td>Manhã</td><td>Tapioca</td><td><input class="form-control kcal-input g"></td><td><input class="form-control kcal-input k100"></td><td class="kcal">0</td></tr>
<tr><td>Manhã</td><td>Ovos</td><td><input class="form-control kcal-input g"></td><td><input class="form-control kcal-input k100"></td><td class="kcal">0</td></tr>
<tr><td>Almoço</td><td>Arroz</td><td><input class="form-control kcal-input g"></td><td><input class="form-control kcal-input k100"></td><td class="kcal">0</td></tr>
<tr><td>Almoço</td><td>Feijão</td><td><input class="form-control kcal-input g"></td><td><input class="form-control kcal-input k100"></td><td class="kcal">0</td></tr>
<tr><td>Jantar</td><td>Farofa</td><td><input class="form-control kcal-input g"></td><td><input class="form-control kcal-input k100"></td><td class="kcal">0</td></tr>
<tr><td>Lanche</td><td>Nuggets</td><td><input class="form-control kcal-input g"></td><td><input class="form-control kcal-input k100"></td><td class="kcal">0</td></tr>
</tbody>
</table>

<div class="total-box">Total diário: <span id="total">0</span> kcal</div>
</div>
</div>

<div class="col-lg-6"><div class="module-card"><i class="bi bi-lightbulb"></i><h3>Diretrizes alimentares</h3><ul><li>Mudanças graduais</li><li>Substituições silenciosas</li><li>Redução ultraprocessados</li><li>Ingredientes do quintal</li><li>Ampliação sensorial</li></ul></div></div>
<div class="col-lg-6"><div class="module-card"><i class="bi bi-calendar-week"></i><h3>Cronograma</h3><ul><li>Sem 1–2 → redução gordura</li><li>Sem 3–4 → farofa leve</li><li>Sem 5–6 → ajuste jantar</li><li>Sem 7–8 → ampliar variedade</li></ul></div></div>

</div>
</main>

<script>
function calcRow(row){
  const g = row.querySelector('.g').value || 0
  const k100 = row.querySelector('.k100').value || 0
  const kcal = (g*k100)/100
  row.querySelector('.kcal').innerText = kcal.toFixed(1)
  return kcal
}
function calcTotal(){
  let total=0
  document.querySelectorAll('#dietBody tr').forEach(r=> total+=calcRow(r))
  document.getElementById('total').innerText=total.toFixed(1)
}
document.addEventListener('input',calcTotal)
</script>

<script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script type="module" src="js/hub.js"></script>
<script src="js/components.js"></script>

<!-- ===============================
RAM HEADER + PROGRESSO INTELIGENTE
================================ -->
<script>
fetch("../components/ram-header.html")
.then(r=>r.text())
.then(html=>{
  document.getElementById("ram-header").innerHTML=html;

  const currentFile = location.pathname.split("/").pop();
  const map={"ram1.html":1,"ram2.html":2,"ram3.html":3,"ram4.html":4,"ram-sintese.html":5};
  const currentRam=map[currentFile]||1;

  let progress=JSON.parse(localStorage.getItem("ram-progress")||"{}");
  progress[currentRam]=true;
  localStorage.setItem("ram-progress",JSON.stringify(progress));

  document.querySelectorAll(".ram-breadcrumb a").forEach(a=>{
    if(a.getAttribute("href")===currentFile){
      const li=a.parentElement;
      li.innerHTML=a.textContent;
      li.setAttribute("aria-current","page");
    }
  });

  document.querySelectorAll(".ram-step").forEach(step=>{
    const n=step.dataset.ram;
    if(progress[n]) step.classList.add("done");
    if(n==currentRam){step.classList.remove("done");step.classList.add("active");}
  });

});
</script>

</body>
</html>
